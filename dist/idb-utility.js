var dbPromise=idb.open("restaurant-store",3,e=>{switch(e.oldVersion){case 0:e.createObjectStore("restaurants",{keyPath:"id",unique:!0});case 1:e.createObjectStore("reviews",{autoIncrement:!0}).createIndex("restaurant_id","restaurant_id");case 2:e.createObjectStore("reviews-sync-store",{autoIncrement:!0})}});function writeData(e,t){return dbPromise.then(r=>{var n=r.transaction(e,"readwrite");return n.objectStore(e).put(t),n.complete})}function readAllData(e){return dbPromise.then(t=>{return t.transaction(e,"readonly").objectStore(e).getAll()})}function readByIndex(e,t){return dbPromise.then(r=>{return r.transaction(e,"readonly").objectStore(e).index("restaurant_id").getAll(t)})}